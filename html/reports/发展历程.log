Traceback (most recent call last):
  File "e:\anaconda3\lib\site-packages\jupyter_cache\executors\utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "e:\anaconda3\lib\site-packages\nbclient\client.py", line 1087, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "e:\anaconda3\lib\site-packages\nbclient\util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "e:\anaconda3\lib\site-packages\nbclient\util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "e:\anaconda3\lib\asyncio\base_events.py", line 583, in run_until_complete
    return future.result()
  File "e:\anaconda3\lib\site-packages\nbclient\client.py", line 541, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "e:\anaconda3\lib\site-packages\nbclient\client.py", line 832, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "e:\anaconda3\lib\site-packages\nbclient\client.py", line 740, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply['content'])
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
block_density = pd.DataFrame([
    {"çº¿ç½‘å¯†åº¦":3.818,"è¡—é“åç§°":"ä¸œé—¨"},
    {"çº¿ç½‘å¯†åº¦":3.024,"è¡—é“åç§°":"ç¦ä¿"},
    {"çº¿ç½‘å¯†åº¦":2.932,"è¡—é“åç§°":"åå¯Œ"},
    {"çº¿ç½‘å¯†åº¦":2.834,"è¡—é“åç§°":"ä¸œæ™“"},
    {"çº¿ç½‘å¯†åº¦":2.191,"è¡—é“åç§°":"å—æ¹–"},
    {"çº¿ç½‘å¯†åº¦":2.022,"è¡—é“åç§°":"è²å¡˜"},
    {"çº¿ç½‘å¯†åº¦":1.927,"è¡—é“åç§°":"ç¬‹å²—"},
    {"çº¿ç½‘å¯†åº¦":1.914,"è¡—é“åç§°":"æ¡‚å›­"},
    {"çº¿ç½‘å¯†åº¦":1.879,"è¡—é“åç§°":"è²èŠ±"},
    {"çº¿ç½‘å¯†åº¦":1.754,"è¡—é“åç§°":"æ¸…æ°´æ²³"},
    {"çº¿ç½‘å¯†åº¦":1.744,"è¡—é“åç§°":"å—å¤´"},
    {"çº¿ç½‘å¯†åº¦":1.6,"è¡—é“åç§°":"ç¿ ç«¹"},
    {"çº¿ç½‘å¯†åº¦":1.568,"è¡—é“åç§°":"ä¸œæ¹–"},
    {"çº¿ç½‘å¯†åº¦":1.362,"è¡—é“åç§°":"ç¦ç”°"},
    {"çº¿ç½‘å¯†åº¦":1.298,"è¡—é“åç§°":"æ²™å¤´"},
    {"çº¿ç½‘å¯†åº¦":1.293,"è¡—é“åç§°":"åå¼ºåŒ—"},
    {"çº¿ç½‘å¯†åº¦":1.267,"è¡—é“åç§°":"å›­å²­"},
    {"çº¿ç½‘å¯†åº¦":1.232,"è¡—é“åç§°":"æ°‘æ²»"},
    {"çº¿ç½‘å¯†åº¦":1.216,"è¡—é“åç§°":"ç²¤æµ·"},
    {"çº¿ç½‘å¯†åº¦":1.215,"è¡—é“åç§°":"æ¢…æ²™"},
    {"çº¿ç½‘å¯†åº¦":1.075,"è¡—é“åç§°":"è¥¿ä¸½"},
    {"çº¿ç½‘å¯†åº¦":1.074,"è¡—é“åç§°":"æ²™å¤´è§’"},
    {"çº¿ç½‘å¯†åº¦":1.05,"è¡—é“åç§°":"å—å›­"},
    {"çº¿ç½‘å¯†åº¦":1.01,"è¡—é“åç§°":"é»„è´"},
    {"çº¿ç½‘å¯†åº¦":0.842,"è¡—é“åç§°":"æ¢…æ—"},
    {"çº¿ç½‘å¯†åº¦":0.828,"è¡—é“åç§°":"æ‹›å•†"},
    {"çº¿ç½‘å¯†åº¦":0.804,"è¡—é“åç§°":"å¸ƒå‰"},
    {"çº¿ç½‘å¯†åº¦":0.78,"è¡—é“åç§°":"ç¦æµ·"},
    {"çº¿ç½‘å¯†åº¦":0.7,"è¡—é“åç§°":"æ¨ªå²—"},
    {"çº¿ç½‘å¯†åº¦":0.593,"è¡—é“åç§°":"æ¡ƒæº"},
    {"çº¿ç½‘å¯†åº¦":0.569,"è¡—é“åç§°":"å¹³æ¹–"},
    {"çº¿ç½‘å¯†åº¦":0.496,"è¡—é“åç§°":"å—å±±"},
    {"çº¿ç½‘å¯†åº¦":0.426,"è¡—é“åç§°":"å¤§æµª"},
    {"çº¿ç½‘å¯†åº¦":0.391,"è¡—é“åç§°":"é¾™åŸ"},
    {"çº¿ç½‘å¯†åº¦":0.389,"è¡—é“åç§°":"æ²™äº•"},
    {"çº¿ç½‘å¯†åº¦":0.35,"è¡—é“åç§°":"è›‡å£"},
    {"çº¿ç½‘å¯†åº¦":0.347,"è¡—é“åç§°":"å‰å"},
    {"çº¿ç½‘å¯†åº¦":0.329,"è¡—é“åç§°":"å‡¤å‡°"},
    {"çº¿ç½‘å¯†åº¦":0.288,"è¡—é“åç§°":"é©¬ç”°"},
    {"çº¿ç½‘å¯†åº¦":0.284,"è¡—é“åç§°":"æ²™æ²³"},
    {"çº¿ç½‘å¯†åº¦":0.269,"è¡—é“åç§°":"æ–°æ¹–"},
    {"çº¿ç½‘å¯†åº¦":0.259,"è¡—é“åç§°":"ç¦æ°¸"},
    {"çº¿ç½‘å¯†åº¦":0.25,"è¡—é“åç§°":"ç¦åŸ"},
    {"çº¿ç½‘å¯†åº¦":0.238,"è¡—é“åç§°":"ç‡•ç½—"},
    {"çº¿ç½‘å¯†åº¦":0.234,"è¡—é“åç§°":"æ–°å®‰"},
    {"çº¿ç½‘å¯†åº¦":0.229,"è¡—é“åç§°":"è¥¿ä¹¡"},
    {"çº¿ç½‘å¯†åº¦":0.229,"è¡—é“åç§°":"å®é¾™"},
    {"çº¿ç½‘å¯†åº¦":0.225,"è¡—é“åç§°":"è§‚æ¹–"},
    {"çº¿ç½‘å¯†åº¦":0.223,"è¡—é“åç§°":"é¾™å²—"},
    {"çº¿ç½‘å¯†åº¦":0.223,"è¡—é“åç§°":"å…¬æ˜"},
    {"çº¿ç½‘å¯†åº¦":0.203,"è¡—é“åç§°":"æµ·å±±"},
    {"çº¿ç½‘å¯†åº¦":0.198,"è¡—é“åç§°":"å…‰æ˜"},
    {"çº¿ç½‘å¯†åº¦":0.17,"è¡—é“åç§°":"å‚ç”°"},
    {"çº¿ç½‘å¯†åº¦":0.167,"è¡—é“åç§°":"è§‚æ¾œ"},
    {"çº¿ç½‘å¯†åº¦":0.152,"è¡—é“åç§°":"çŸ³å²©"},
    {"çº¿ç½‘å¯†åº¦":0.149,"è¡—é“åç§°":"é¾™å"},
    {"çº¿ç½‘å¯†åº¦":0.117,"è¡—é“åç§°":"æ–°æ¡¥"},
    {"çº¿ç½‘å¯†åº¦":0.114,"è¡—é“åç§°":"èˆªåŸ"},
    {"çº¿ç½‘å¯†åº¦":0.103,"è¡—é“åç§°":"åªåœ°"},
    {"çº¿ç½‘å¯†åº¦":0.071,"è¡—é“åç§°":"é¦™èœœæ¹–"},
    {"çº¿ç½‘å¯†åº¦":0.055,"è¡—é“åç§°":"ç‰å¡˜"},
    {"çº¿ç½‘å¯†åº¦":0.028,"è¡—é“åç§°":"æ¾å²—"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"ç›ç”°"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"å›­å±±"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"å—æ¹¾"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"ç¢§å²­"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"çŸ³äº•"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"é¾™ç”°"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"å‘æ¢“"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"åªå±±"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"é©¬å³¦"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"å—æ¾³"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"å¤§é¹"},
    {"çº¿ç½‘å¯†åº¦":0,"è¡—é“åç§°":"è‘µæ¶Œ"}
])
block_density_dict = dict(zip(block_density['è¡—é“åç§°'],block_density['çº¿ç½‘å¯†åº¦']))
area_gdf = gpd.read_file(r'G:\DeskTop\11_JupyterLabTest\dash_learning\å…¥é—¨\sz_group.geojson')
line_gdf = gpd.read_file(r'G:\DeskTop\11_JupyterLabTest\dash_learning\å…¥é—¨\sz_metro_line.geojson')
area_gdf['density'] = area_gdf['NAME'].apply(lambda x:block_density_dict[x])
map_2.add_data(data=line_gdf, name='line')
map_2.add_data(data=area_gdf, name='block')
config = {
  "version": "v1",
  "config": {
    "visState": {
      "filters": [],
      "layers": [
        {
          "id": "w50aqdd",
          "type": "geojson",
          "config": {
            "dataId": "line",
            "label": "line",
            "color": [
              34,
              63,
              154
            ],
            "columns": {
              "geojson": "geometry"
            },
            "isVisible": True,
            "visConfig": {
              "opacity": 0.8,
              "strokeOpacity": 0.8,
              "thickness": 0.9,
              "strokeColor": None,
              "colorRange": {
                "name": "Global Warming",
                "type": "sequential",
                "category": "Uber",
                "colors": [
                  "#5A1846",
                  "#900C3F",
                  "#C70039",
                  "#E3611C",
                  "#F1920E",
                  "#FFC300"
                ]
              },
              "strokeColorRange": {
                "name": "ColorBrewer Paired-9",
                "type": "qualitative",
                "category": "ColorBrewer",
                "colors": [
                  "#a6cee3",
                  "#1f78b4",
                  "#b2df8a",
                  "#33a02c",
                  "#fb9a99",
                  "#e31a1c",
                  "#fdbf6f",
                  "#ff7f00",
                  "#cab2d6"
                ]
              },
              "radius": 10,
              "sizeRange": [
                0,
                10
              ],
              "radiusRange": [
                0,
                50
              ],
              "heightRange": [
                0,
                500
              ],
              "elevationScale": 5,
              "stroked": True,
              "filled": False,
              "enable3d": False,
              "wireframe": False
            },
            "hidden": False,
            "textLabel": [
              {
                "field": None,
                "color": [
                  255,
                  255,
                  255
                ],
                "size": 18,
                "offset": [
                  0,
                  0
                ],
                "anchor": "start",
                "alignment": "center"
              }
            ]
          },
          "visualChannels": {
            "colorField": None,
            "colorScale": "quantile",
            "sizeField": None,
            "sizeScale": "linear",
            "strokeColorField": {
              "name": "route_name",
              "type": "string"
            },
            "strokeColorScale": "ordinal",
            "heightField": None,
            "heightScale": "linear",
            "radiusField": None,
            "radiusScale": "linear"
          }
        },
        {
          "id": "h3m5ah2",
          "type": "geojson",
          "config": {
            "dataId": "block",
            "label": "block",
            "color": [
              26,
              49,
              119
            ],
            "columns": {
              "geojson": "geometry"
            },
            "isVisible": True,
            "visConfig": {
              "opacity": 0.64,
              "strokeOpacity": 0.8,
              "thickness": 0.5,
              "strokeColor": [
                32,
                103,
                172
              ],
              "colorRange": {
                "name": "Uber Viz Diverging 3.5",
                "type": "diverging",
                "category": "Uber",
                "colors": [
                  "#00939C",
                  "#2FA7AE",
                  "#5DBABF",
                  "#8CCED1",
                  "#BAE1E2",
                  "#F8C0AA",
                  "#EB9C80",
                  "#DD7755",
                  "#D0532B",
                  "#C22E00"
                ]
              },
              "strokeColorRange": {
                "name": "Global Warming",
                "type": "sequential",
                "category": "Uber",
                "colors": [
                  "#5A1846",
                  "#900C3F",
                  "#C70039",
                  "#E3611C",
                  "#F1920E",
                  "#FFC300"
                ]
              },
              "radius": 10,
              "sizeRange": [
                0,
                10
              ],
              "radiusRange": [
                0,
                50
              ],
              "heightRange": [
                0,
                500
              ],
              "elevationScale": 5,
              "stroked": True,
              "filled": True,
              "enable3d": False,
              "wireframe": False
            },
            "hidden": False,
            "textLabel": [
              {
                "field": None,
                "color": [
                  255,
                  255,
                  255
                ],
                "size": 18,
                "offset": [
                  0,
                  0
                ],
                "anchor": "start",
                "alignment": "center"
              }
            ]
          },
          "visualChannels": {
            "colorField": {
              "name": "density",
              "type": "real"
            },
            "colorScale": "quantile",
            "sizeField": None,
            "sizeScale": "linear",
            "strokeColorField": None,
            "strokeColorScale": "quantile",
            "heightField": None,
            "heightScale": "linear",
            "radiusField": None,
            "radiusScale": "linear"
          }
        }
      ],
      "interactionConfig": {
        "tooltip": {
          "fieldsToShow": {
            "block": [
              {
                "name": "NAME",
                "format": None
              },
              {
                "name": "density",
                "format": None
              }
            ],
            "line": [
              {
                "name": "link_type",
                "format": None
              },
              {
                "name": "route_name",
                "format": None
              }
            ]
          },
          "compareMode": False,
          "compareType": "absolute",
          "enabled": True
        },
        "brush": {
          "size": 0.5,
          "enabled": False
        },
        "geocoder": {
          "enabled": False
        },
        "coordinate": {
          "enabled": False
        }
      },
      "layerBlending": "normal",
      "splitMaps": [],
      "animationConfig": {
        "currentTime": None,
        "speed": 1
      }
    },
    "mapState": {
      "bearing": 0,
      "dragRotate": False,
      "latitude": 22.662742768390604,
      "longitude": 114.21157724223173,
      "pitch": 0,
      "zoom": 8.903882166166095,
      "isSplit": False
    },
    "mapStyle": {
      "styleType": "dark",
      "topLayerGroups": {},
      "visibleLayerGroups": {
        "label": True,
        "road": True,
        "border": False,
        "building": True,
        "water": True,
        "land": True,
        "3d building": False
      },
      "threeDBuildingColor": [
        9.665468314072013,
        17.18305478057247,
        31.1442867897876
      ],
      "mapStyles": {}
    }
  }
}
map_2.config=config
map_2
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mNameError[0m                                 Traceback (most recent call last)
[1;32m<ipython-input-6-1c894a0e8582>[0m in [0;36m<module>[1;34m[0m
[0;32m     79[0m [0mline_gdf[0m [1;33m=[0m [0mgpd[0m[1;33m.[0m[0mread_file[0m[1;33m([0m[1;34mr'G:\DeskTop\11_JupyterLabTest\dash_learning\å…¥é—¨\sz_metro_line.geojson'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0;32m     80[0m [0marea_gdf[0m[1;33m[[0m[1;34m'density'[0m[1;33m][0m [1;33m=[0m [0marea_gdf[0m[1;33m[[0m[1;34m'NAME'[0m[1;33m][0m[1;33m.[0m[0mapply[0m[1;33m([0m[1;32mlambda[0m [0mx[0m[1;33m:[0m[0mblock_density_dict[0m[1;33m[[0m[0mx[0m[1;33m][0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[1;32m---> 81[1;33m [0mmap_2[0m[1;33m.[0m[0madd_data[0m[1;33m([0m[0mdata[0m[1;33m=[0m[0mline_gdf[0m[1;33m,[0m [0mname[0m[1;33m=[0m[1;34m'line'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0m[0;32m     82[0m [0mmap_2[0m[1;33m.[0m[0madd_data[0m[1;33m([0m[0mdata[0m[1;33m=[0m[0marea_gdf[0m[1;33m,[0m [0mname[0m[1;33m=[0m[1;34m'block'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0;32m     83[0m config = {

[1;31mNameError[0m: name 'map_2' is not defined
NameError: name 'map_2' is not defined

